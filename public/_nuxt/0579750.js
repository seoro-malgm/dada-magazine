(window.webpackJsonp=window.webpackJsonp||[]).push([[27,14],{393:function(t,e,n){"use strict";var r=n(13),o=n(189).charAt,c=n(49),l=n(73),d=n(36);r({target:"String",proto:!0,forced:!0},{at:function(t){var e=d(c(this)),n=e.length,r=l(t),f=r>=0?r:n+r;return f<0||f>=n?void 0:o(e,f)}})},396:function(t,e,n){"use strict";n.r(e);var r={name:"Loading"},o=n(44),component=Object(o.a)(r,(function(){var t=this._self._c;return t("div",{staticClass:"p-5 text-center"},[t("b-spinner",{attrs:{large:"",variant:"primary"}})],1)}),[],!1,null,"87dd03ac",null);e.default=component.exports},404:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c}));n(19),n(14),n(28),n(43),n(192),n(16),n(152),n(272),n(190),n(24),n(84),n(124),n(405),n(407),n(153),n(81),n(39);var r=function(t){return!(null==t||!t.match(/^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i))},o=function(text){return!(null==text||!text.match(/^[a-z0-9_]{2,14}$/))},c=function(t,e){return String(t).length>=2&&/^[ㄱ-ㅎ|가-힣|a-z|A-Z|0-9|]+$/.test(t)&&String(t).length<=e}},405:function(t,e,n){n(406)},406:function(t,e,n){"use strict";var r=n(13),o=n(29),c=n(17),l=n(49),d=n(26),f=n(63),v=n(150),m=n(36),h=n(74),x=n(191),_=n(273),k=n(27),w=n(50),y=k("replace"),C=TypeError,O=c("".indexOf),j=c("".replace),R=c("".slice),z=Math.max,$=function(t,e,n){return n>t.length?-1:""===e?n:O(t,e,n)};r({target:"String",proto:!0},{replaceAll:function(t,e){var n,r,c,k,A,U,P,S,D,I=l(this),Z=0,L=0,E="";if(!f(t)){if((n=v(t))&&(r=m(l(x(t))),!~O(r,"g")))throw C("`.replaceAll` does not allow non-global regexes");if(c=h(t,y))return o(c,t,I,e);if(w&&n)return j(m(I),t,e)}for(k=m(I),A=m(t),(U=d(e))||(e=m(e)),P=A.length,S=z(1,P),Z=$(k,A,0);-1!==Z;)D=U?m(e(A,Z,k)):_(A,k,Z,[],void 0,e),E+=R(k,L,Z)+D,L=Z+P,Z=$(k,A,Z+S);return L<k.length&&(E+=R(k,L)),E}})},407:function(t,e,n){"use strict";var r=n(13),o=n(82).findIndex,c=n(101),l="findIndex",d=!0;l in[]&&Array(1)[l]((function(){d=!1})),r({target:"Array",proto:!0,forced:d},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(l)},421:function(t,e,n){var content=n(447);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(62).default)("d28d336c",content,!0,{sourceMap:!1})},446:function(t,e,n){"use strict";n(421)},447:function(t,e,n){var r=n(61)(!1);r.push([t.i,'.shadow-primary[data-v-3f12f688]{box-shadow:0 0 10px rgba(0,0,0,.15)}.btn.disabled[data-v-3f12f688],.btn[data-v-3f12f688]:disabled,button.disabled[data-v-3f12f688],button[data-v-3f12f688]:disabled{cursor:not-allowed}.btn-link[data-v-3f12f688]{color:#352f2d}figcaption[data-v-3f12f688],figure[data-v-3f12f688],h1[data-v-3f12f688],h2[data-v-3f12f688],h3[data-v-3f12f688],h4[data-v-3f12f688],h5[data-v-3f12f688],h6[data-v-3f12f688],p[data-v-3f12f688]{margin:0}.btn-arr-right i.icon[data-v-3f12f688]{transition:all .2s cubic-bezier(.73,.33,.31,.89)}.btn-arr-right:hover i.icon[data-v-3f12f688]{transform:translateX(10px)}hr.hr[data-v-3f12f688]{border-top:1px solid #333;margin:48px 0}a.btn[data-v-3f12f688],a[data-v-3f12f688]:link{color:inherit}a.btn[data-v-3f12f688]{text-decoration:none}.underline-primary[data-v-3f12f688]{position:relative;display:inline-block}.underline-primary>*[data-v-3f12f688]{position:relative;z-index:2}.underline-primary[data-v-3f12f688]:after{position:absolute;z-index:1;content:"";display:block;bottom:0;left:0;width:100%;height:50%;background-color:#d0df00}.input-profile_image[data-v-3f12f688]{position:relative}.input-profile_image .icon-wrap[data-v-3f12f688]{width:48px;height:48px;border-radius:50%;border:1px solid #287e03;background-color:#f5f3f2;position:absolute;bottom:0;right:-10px;z-index:10;color:#287e03;display:flex;align-items:center;justify-self:center;text-align:center}',""]),t.exports=r},477:function(t,e,n){"use strict";n.r(e);n(6),n(5),n(3),n(1),n(7),n(4),n(8);var r=n(12),o=n(0),c=(n(393),n(16),n(31),n(54),n(188)),l=n(404);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={name:"auth-mypage",head:function(){return{title:"다다매거진 | 마이페이지"}},props:{auth:{type:[Object,String],default:null}},data:function(){return{pending:Object(o.a)({init:!0,profile:!1,email:!1,pid:!1,nickname:!1,submit:!1},"submit",!1),input:{profile_image:null,profile_image_url:null,nickname:null,introduction:null},check:{email:null,pid:null,nickname:null},fileAttached:null,resize:c.e}},computed:{validate:function(){var t=this.input,e=t.pid,n=t.nickname,r=this.state.pid&&this.check.pid&&this.state.nickname&&this.check.nickname;return e&&n&&r},state:function(){var t,e,n,r,o,c,d,f;return{pid:(null===(t=this.input)||void 0===t?void 0:t.pid)===(null===(e=this.auth)||void 0===e?void 0:e.pid)||Object(l.b)(null===(n=this.input)||void 0===n?void 0:n.pid),nickname:(null===(r=this.input)||void 0===r?void 0:r.nickname)===(null===(o=this.auth)||void 0===o?void 0:o.nickname)||Object(l.c)(null===(c=this.input)||void 0===c?void 0:c.nickname,15),introduction:(null===(d=this.input.introduction)||void 0===d?void 0:d.length)>=0&&(null===(f=this.input.introduction)||void 0===f?void 0:f.length)<=50}},salt:function(){return this.$store.getters.getSalt.mypageUpdated}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:case"end":return e.stop()}}),e)})))()},methods:{init:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.auth){e.next=3;break}return e.next=3,t.$store.dispatch("setUser");case 3:t.input=f({},t.auth),t.checkUser("pid",t.input.pid),t.checkUser("nickname",t.input.nickname),t.pending.init=!1;case 7:case"end":return e.stop()}}),e)})))()},uploadProfile_image:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,c,l,d,v,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.$firebase(),c=o.getImageURL,l=o.deleteImage,d=t.target.files[0]){n.next=4;break}return n.abrupt("return");case 4:e.pending.profile=!0,e.input.profile_image&&l("profile/".concat(e.input.profile_image_url)),e.input.profile_image_url=null,v=null==d?void 0:d.type.split("/").at(-1),m="profile_".concat((new Date).valueOf(),".").concat(v),e.resize.photo("w",d,240,"object",function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(n.blob,n.blob.type,"profile",m);case 2:if(null==(r=t.sent)||!r.url){t.next=8;break}return t.next=6,e.$nextTick();case 6:e.input=f(f({},e.input),{},{profile_image:r.name,profile_image_url:r.url}),e.pending.profile=!1;case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 10:case"end":return n.stop()}}),n)})))()},submit:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pending.submit=!0,n=t.$firebase(),r=n.setUserInfo,e.prev=2,e.next=5,r(f(f({},t.input),{},{email:t.auth.email}));case 5:e.sent&&(window.toast("유저정보가 업데이트 되었습니다."),t.pending.submit=!0,t.$store.commit("setSalt",["mypageUpdated",!0])),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("error:",e.t0),window.toast("유저정보가 업데이트에 실패했습니다."),t.pending.submit=!1;case 14:t.pending.submit=!1;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))()},onRemoveUser:function(){return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.toast("죄송합니다. 현재 기능 준비중입니다.");case 1:case"end":return t.stop()}}),t)})))()},checkUser:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e||""===e){r.next=19;break}if(n.auth[t]!==e){r.next=6;break}n.check[t]=!0,n.pending[t]=!1,r.next=19;break;case 6:return n.pending[t]=!0,o=n.$firebase(),c=o.checkDuplicate,r.prev=8,r.next=11,c(t,e);case 11:l=r.sent,n.check[t]=!l,n.pending[t]=!1,r.next=19;break;case 16:r.prev=16,r.t0=r.catch(8),console.error("error:",r.t0);case 19:case"end":return r.stop()}}),r,null,[[8,16]])})))()}}},m=v,h=(n(446),n(44)),component=Object(h.a)(m,(function(){var t,e=this,n=e._self._c;return n("b-container",[n("article",{staticClass:"my-5"},[n("b-row",{staticClass:"w-100",attrs:{"align-h":"center"}},[n("b-col",{attrs:{cols:"12",md:"7"}},[e.pending.init?[n("Loading")]:[n("b-card",{staticClass:"w-100"},[n("b-card-header",{attrs:{"header-bg-variant":"white","header-border-variant":"white","header-tag":"header"}},[n("b-card-title",{staticClass:"text-center text-20 text-lg-24",attrs:{"title-tag":"h2"}},[e._v("\n                나의 프로필\n              ")])],1),e._v(" "),n("b-card-body",[n("ul",{staticClass:"list-unstyled"},[n("li",{staticClass:"mb-4 text-center"},[n("div",{staticClass:"mb-3"},[n("h6",{staticClass:"border border-primary rounded-pill px-3 py-1 d-inline-block"},[e._v("\n                      프로필 이미지\n                    ")])]),e._v(" "),n("label",{staticClass:"input-profile_image cursor-pointer",attrs:{for:"profile_image"}},[e.pending.profile_image_url?[n("div",{staticClass:"label-text"},[n("b-spinner")],1)]:e.pending.profile_image_url?e._e():[e.input.profile_image_url?[n("b-avatar",{attrs:{size:"10rem",src:e.input.profile_image_url,alt:"프로필 이미지"}})]:[n("b-avatar",{attrs:{size:"6rem"}})]],e._v(" "),n("div",{staticClass:"icon-wrap"},[n("i",{staticClass:"icon icon-file-image m-auto text-20 text-md-24"})])],2),e._v(" "),n("input",{ref:"profile_image_attached",staticClass:"d-none",attrs:{type:"file",id:"profile_image",accept:".png, .jpg, .jpeg, .gif"},on:{change:e.uploadProfile_image}})]),e._v(" "),n("li",{staticClass:"mb-4 d-flex flex-column"},[n("div",{staticClass:"mb-2"},[n("h6",{staticClass:"border border-primary rounded-pill px-3 py-1 d-inline-block"},[e._v("\n                      프로필 아이디\n                    ")])]),e._v(" "),n("b-form-group",[n("b-form-input",{attrs:{id:"pid",type:"text",placeholder:"아이디를 입력하세요",state:e.state.pid},on:{input:function(t){return e.checkUser("pid",e.input.pid)}},model:{value:e.input.pid,callback:function(t){e.$set(e.input,"pid",t)},expression:"input.pid"}}),e._v(" "),n("b-form-invalid-feedback",[n("span",{staticClass:"text-14 text-lg-15 fw-700 text-alert"},[n("i",{staticClass:"icon icon-window-close"}),e._v("\n                        사용할 수 없는 아이디입니다\n                      ")]),e._v(" "),n("small",{staticClass:"d-block text-alert"},[e._v("\n                        2~15자, 영문, 언더바(_)사용가능\n                      ")])]),e._v(" "),e.state.pid?[e.pending.pid?[n("span",[n("b-spinner",{attrs:{small:""}}),e._v(" 중복된 아이디인지\n                          검사중입니다...\n                        ")],1)]:["boolean"==typeof e.check.pid?n("span",{staticClass:"text-14 text-lg-15 fw-700",class:"text-".concat(e.check.pid?"info":"alert")},[n("i",{class:"icon icon-".concat(e.check.pid?"check":"window-close")}),e._v(" "),!0===e.check.pid?[e._v("\n                            사용가능한 아이디입니다\n                          ")]:e._e(),e._v(" "),!1===e.check.pid?[e._v("\n                            중복된 아이디입니다.\n                          ")]:e._e()],2):e._e()]]:e._e()],2)],1),e._v(" "),n("li",{staticClass:"mb-4 d-flex flex-column"},[n("div",{staticClass:"mb-2"},[n("h6",{staticClass:"border border-primary rounded-pill px-3 py-1 d-inline-block"},[e._v("\n                      별명\n                    ")])]),e._v(" "),n("b-form-group",{attrs:{state:e.state.nickname}},[n("b-form-input",{attrs:{id:"nickname",type:"text",placeholder:"별명을 입력하세요",state:e.state.nickname},on:{input:function(t){return e.checkUser("nickname",e.input.nickname)}},model:{value:e.input.nickname,callback:function(t){e.$set(e.input,"nickname",t)},expression:"input.nickname"}}),e._v(" "),n("b-form-invalid-feedback",[n("span",{staticClass:"text-14 text-lg-15 fw-700 text-alert"},[n("i",{staticClass:"icon icon-window-close"}),e._v("\n                        사용할 수 없는 별명입니다\n                      ")]),e._v(" "),n("small",{staticClass:"d-block text-alert"},[e._v("\n                        2~15자 한/영조합\n                      ")])]),e._v(" "),e.state.nickname?[e.pending.nickname?[n("span",[n("b-spinner",{attrs:{small:""}}),e._v(" 중복된 별명인지 검사중입니다...\n                        ")],1)]:["boolean"==typeof e.check.nickname?n("span",{staticClass:"text-14 text-lg-15 fw-700",class:"text-".concat(e.check.nickname?"info":"alert")},[n("i",{class:"icon icon-".concat(e.check.nickname?"check":"window-close")}),e._v(" "),!0===e.check.nickname?[e._v("\n                            사용가능한 별명입니다\n                          ")]:e._e(),e._v(" "),!1===e.check.nickname?[e._v("\n                            중복된 아이디입니다.\n                          ")]:e._e()],2):e._e()]]:e._e()],2)],1),e._v(" "),n("li",{staticClass:"mb-4 d-flex flex-column"},[n("div",{staticClass:"mb-2"},[n("h6",{staticClass:"border border-primary rounded-pill px-3 py-1 d-inline-block"},[e._v("\n                      자기소개\n                    ")])]),e._v(" "),n("b-form-group",[n("b-form-textarea",{staticClass:"border",attrs:{id:"introduction",placeholder:"자기소개를 입력하세요",state:e.state.introduction,rows:"5"},model:{value:e.input.introduction,callback:function(t){e.$set(e.input,"introduction",t)},expression:"input.introduction"}}),e._v(" "),n("b-form-invalid-feedback",[e._v("\n                      자기소개는 50자 미만으로만 작성 가능합니다.\n                    ")])],1)],1)]),e._v(" "),n("hr",{staticClass:"my-5"}),e._v(" "),n("div",[n("header",{staticClass:"mb-3 text-center"},[n("h2",{staticClass:"text-center text-20 text-lg-24"},[e._v("제안받기")]),e._v(" "),n("span",{staticClass:"text-14 text-md-16"},[e._v("\n                    에디터로서 제안을 받을 수있는 이메일, 연락처 등의 정보를\n                    관리하세요.\n                  ")])]),e._v(" "),n("ul",[n("li",{staticClass:"mb-4 d-flex flex-column"},[n("div",{staticClass:"mb-2"},[n("h6",{staticClass:"border border-primary rounded-pill px-3 py-1 d-inline-block"},[e._v("\n                        이메일\n                      ")])]),e._v(" "),n("span",[e._v(e._s(null===(t=e.auth)||void 0===t?void 0:t.email))])])])])]),e._v(" "),n("b-card-footer",{staticClass:"bg-white border-0 pt-0"},[n("b-btn",{attrs:{variant:"primary w-100 py-3",pill:"",disabled:!e.validate||e.pending.profile||e.pending.submit||e.salt},on:{click:e.submit}},[n("span",{staticClass:"text-15 text-md-18"},[e.salt?[e._v(" 정보가 저장되었습니다 ")]:e.pending.submit?[n("b-spinner",{attrs:{small:""}})]:[e._v(" 정보 저장하기 ")]],2)])],1)],1),e._v(" "),n("div",{staticClass:"my-3 px-5"},[n("b-btn",{attrs:{variant:"outline-alert px-3 w-100",to:{name:"auth-logout"},pill:""}},[e._v("로그아웃\n            ")])],1),e._v(" "),n("div",{staticClass:"d-flex justify-content-center my-3"},[n("b-btn",{attrs:{variant:"link p-0 text-light text-14 mx-4"},on:{click:function(t){return e.$router.push({name:"auth-edit-pwd"})}}},[e._v("\n              비밀번호 변경하기\n            ")]),e._v(" "),n("b-btn",{attrs:{variant:"link p-0 text-light text-14 mx-4 "},on:{click:e.onRemoveUser}},[e._v("\n              회원 탈퇴하기\n            ")])],1)]],2)],1)],1)])}),[],!1,null,"3f12f688",null);e.default=component.exports;installComponents(component,{Loading:n(396).default})}}]);